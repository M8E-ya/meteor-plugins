subprojects {
    apply plugin: "java"
    apply plugin: "java-library"

    group = "meteordevelopment"

    java {
        toolchain.languageVersion.set(JavaLanguageVersion.of(21))
    }

    repositories {
        mavenCentral()
        maven {
            name = "papermc"
            url = uri("https://repo.papermc.io/repository/maven-public/")
        }
        maven {
            name = "Meteor Development"
            url = uri("https://maven.meteordev.org/releases/")
        }
    }

    dependencies {
        compileOnly "io.papermc.paper:paper-api:1.21.4-R0.1-SNAPSHOT"
    }

    processResources {
        duplicatesStrategy = DuplicatesStrategy.WARN

        filesMatching("plugin.yml") {
            expand "version": project.version
        }
    }
}
